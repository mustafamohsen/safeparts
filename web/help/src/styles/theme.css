/* Starlight theme: align with the main Safeparts web UI (emerald-on-black). */

:root,
:root[data-theme='light'] {
  --sl-font: 'IBM Plex Sans';
  --sl-font-mono: 'JetBrains Mono', ui-monospace, SFMono-Regular, Menlo, Monaco,
    Consolas, 'Liberation Mono', 'Courier New', monospace;

  --sl-color-white: hsl(0 0% 100%);
  --sl-color-black: hsl(0 0% 0%);

  /* Slate-ish scale */
  --sl-color-gray-1: hsl(215 20% 92%);
  --sl-color-gray-2: hsl(215 16% 80%);
  --sl-color-gray-3: hsl(215 14% 62%);
  --sl-color-gray-4: hsl(215 14% 44%);
  --sl-color-gray-5: hsl(215 18% 18%);
  --sl-color-gray-6: hsl(215 22% 12%);
  --sl-color-gray-7: hsl(215 26% 8%);

  /* Emerald accent */
  --sl-color-accent-low: hsl(163 70% 14%);
  --sl-color-accent: hsl(160 84% 39%);
  --sl-color-accent-high: hsl(158 82% 86%);

  /*
    Starlight uses semantic color scales for callouts (note/info/warning/etc)
    and badges. If the theme resolves to `data-theme='light'` (common on mobile
    when the OS is in light mode), Starlight's defaults make these surfaces very
    bright against our always-dark background.

    We define these scales explicitly so callouts remain readable and consistent
    across devices, regardless of the selected theme.
  */
  --sl-color-blue-low: hsl(204 70% 14%);
  --sl-color-blue: hsl(204 88% 48%);
  --sl-color-blue-high: hsl(204 92% 86%);

  --sl-color-green-low: hsl(142 60% 14%);
  --sl-color-green: hsl(142 71% 45%);
  --sl-color-green-high: hsl(141 75% 86%);

  --sl-color-orange-low: hsl(28 70% 14%);
  --sl-color-orange: hsl(28 90% 52%);
  --sl-color-orange-high: hsl(30 94% 86%);

  --sl-color-red-low: hsl(0 62% 14%);
  --sl-color-red: hsl(0 84% 60%);
  --sl-color-red-high: hsl(0 93% 86%);

  --sl-color-purple-low: hsl(265 55% 14%);
  --sl-color-purple: hsl(265 82% 62%);
  --sl-color-purple-high: hsl(266 92% 88%);

  --sl-color-text: hsl(215 20% 82%);
  --sl-color-text-accent: hsl(158 82% 86%);
  --sl-color-bg: hsl(0 0% 0%);
  --sl-color-bg-nav: hsl(0 0% 0% / 0.72);
  --sl-color-bg-sidebar: hsl(0 0% 0% / 0.72);
  --sl-color-bg-inline-code: hsl(215 18% 16%);
  --sl-color-hairline: hsl(160 84% 39% / 0.16);
  --sl-color-hairline-light: hsl(160 84% 39% / 0.12);
  --sl-color-hairline-shade: hsl(0 0% 0%);

  --sl-shadow-md: 0px 10px 30px hsl(160 84% 39% / 0.07);
}

html {
  font-family: 'IBM Plex Sans', ui-sans-serif, system-ui, -apple-system,
    BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

html[lang='ar'] {
  font-family: 'IBM Plex Sans Arabic', 'IBM Plex Sans', ui-sans-serif,
    system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}

:root:lang(ar) {
  --sl-font: 'IBM Plex Sans Arabic';
}

/* Match the web app's "atmosphere" without hurting readability. */
body {
  background: hsl(0 0% 0%);
}

body::before,
body::after {
  content: '';
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: -1;
}

body::before {
  background:
    radial-gradient(circle at top, hsl(160 84% 39% / 0.18), transparent 55%),
    radial-gradient(circle at bottom, hsl(142 71% 45% / 0.12), transparent 55%),
    linear-gradient(to bottom, transparent, transparent, hsl(0 0% 0%));
}

body::after {
  opacity: 0.1;
  background-image:
    linear-gradient(to right, hsl(160 84% 39% / 0.22) 1px, transparent 1px),
    linear-gradient(to bottom, hsl(160 84% 39% / 0.18) 1px, transparent 1px);
  background-size: 36px 36px;
}

/* Keep docs feeling like "an app" by tightening nav chrome. */
.header {
  backdrop-filter: blur(10px);
}

/* Starlight renders a theme picker by default; we keep docs consistent with the app. */
starlight-theme-select {
  display: none !important;
}

/*
  Starlight can still set `data-theme="light"` automatically based on the
  user's OS preference. Since the docs are designed to visually match the main
  (always-dark) web app, we restate our dark palette for the light theme too.
  This keeps callouts (info/warning/etc) and other surfaces consistent on mobile.
*/
:root[data-theme='light'] {
  color-scheme: dark;

  --sl-color-white: hsl(0 0% 100%);
  --sl-color-black: hsl(0 0% 0%);

  --sl-color-gray-1: hsl(215 20% 92%);
  --sl-color-gray-2: hsl(215 16% 80%);
  --sl-color-gray-3: hsl(215 14% 62%);
  --sl-color-gray-4: hsl(215 14% 44%);
  --sl-color-gray-5: hsl(215 18% 18%);
  --sl-color-gray-6: hsl(215 22% 12%);
  --sl-color-gray-7: hsl(215 26% 8%);

  --sl-color-accent-low: hsl(163 70% 14%);
  --sl-color-accent: hsl(160 84% 39%);
  --sl-color-accent-high: hsl(158 82% 86%);

  --sl-color-blue-low: hsl(204 70% 14%);
  --sl-color-blue: hsl(204 88% 48%);
  --sl-color-blue-high: hsl(204 92% 86%);

  --sl-color-green-low: hsl(142 60% 14%);
  --sl-color-green: hsl(142 71% 45%);
  --sl-color-green-high: hsl(141 75% 86%);

  --sl-color-orange-low: hsl(28 70% 14%);
  --sl-color-orange: hsl(28 90% 52%);
  --sl-color-orange-high: hsl(30 94% 86%);

  --sl-color-red-low: hsl(0 62% 14%);
  --sl-color-red: hsl(0 84% 60%);
  --sl-color-red-high: hsl(0 93% 86%);

  --sl-color-purple-low: hsl(265 55% 14%);
  --sl-color-purple: hsl(265 82% 62%);
  --sl-color-purple-high: hsl(266 92% 88%);

  --sl-color-text: hsl(215 20% 82%);
  --sl-color-text-accent: hsl(158 82% 86%);
  --sl-color-bg: hsl(0 0% 0%);
  --sl-color-bg-nav: hsl(0 0% 0% / 0.72);
  --sl-color-bg-sidebar: hsl(0 0% 0% / 0.72);
  --sl-color-bg-inline-code: hsl(215 18% 16%);
  --sl-color-hairline: hsl(160 84% 39% / 0.16);
  --sl-color-hairline-light: hsl(160 84% 39% / 0.12);
  --sl-color-hairline-shade: hsl(0 0% 0%);
}

/* Subtle rounding similar to the app. */
.card,
.sl-link-card {
  border-radius: 1rem;
}

/* Expressive Code frames include a header; round the container, not the <pre>. */
.expressive-code .frame {
  border-radius: 0.5rem;
  overflow: hidden;
}

.expressive-code .frame > .header {
  border-top-left-radius: 0.5rem;
  border-top-right-radius: 0.5rem;
}

.expressive-code .frame > pre {
  border-bottom-left-radius: 0.5rem;
  border-bottom-right-radius: 0.5rem;
}

/*
  Inline semantic tokens

  These docs frequently mention variables, UI labels, keystrokes, and sample values.
  Use semantic HTML (<var>, <kbd>, <samp>) and lightweight pills instead of <code>
  when the content is not actually code or a terminal command.
*/

:where(main) var {
  font-style: italic;
  font-weight: 650;
  color: var(--sl-color-text-accent);
}

:where(main) kbd {
  display: inline-flex;
  align-items: center;
  padding: 0.12em 0.45em;
  border-radius: 0.45rem;
  border: 1px solid var(--sl-color-hairline);
  background: hsl(215 22% 12% / 0.65);
  color: var(--sl-color-text);
  font-family: var(--sl-font-mono);
  font-size: 0.85em;
  line-height: 1.2;
  white-space: nowrap;
}

:where(main) samp {
  display: inline-block;
  padding: 0.12em 0.4em;
  border-radius: 0.45rem;
  border: 1px solid hsl(204 88% 48% / 0.28);
  background: hsl(204 70% 14% / 0.55);
  color: var(--sl-color-text);
  font-family: var(--sl-font-mono);
  font-size: 0.9em;
  line-height: 1.2;
}

:where(main) .token {
  display: inline-flex;
  align-items: baseline;
  padding: 0.12em 0.5em;
  border-radius: 999px;
  border: 1px solid var(--sl-color-hairline);
  background: hsl(215 22% 12% / 0.55);
  color: var(--sl-color-text);
  font-weight: 650;
  font-size: 0.92em;
  line-height: 1.2;
  white-space: nowrap;
}

:where(main) .token.token--mono {
  font-family: var(--sl-font-mono);
  font-weight: 550;
  font-size: 0.88em;
}
