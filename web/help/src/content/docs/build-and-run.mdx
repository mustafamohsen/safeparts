---
title: Build & run
description: Cross-platform build instructions for the CLI, TUI, and Web UI.
---

import { Tabs, TabItem, Steps } from '@astrojs/starlight/components';

Safeparts is a Rust workspace with an optional WASM-powered web UI.

## Prerequisites

- Rust stable (rustup recommended) (+ `rustfmt`, `clippy`)
- Bun 1.3+ (recommended for the web UI)

## Install (prebuilt binaries)

Safeparts publishes stable binaries for macOS, Linux, and Windows on GitHub Releases.

- https://github.com/mustafamohsen/safeparts/releases

Each archive includes:

- `safeparts` (CLI)
- `safeparts-tui` (terminal UI)

<Tabs>
  <TabItem label="Linux">

```bash
# Download the latest linux archive + SHA256SUMS.txt from the release page.
tar -xzf safeparts-<version>-linux-<arch>.tar.gz

# Optional: verify checksum.
sha256sum -c SHA256SUMS.txt

# Install.
sudo install -m 755 safeparts-<version>-linux-<arch>/safeparts /usr/local/bin/safeparts
sudo install -m 755 safeparts-<version>-linux-<arch>/safeparts-tui /usr/local/bin/safeparts-tui

# Verify.
safeparts --help
safeparts-tui --help
```

  </TabItem>
  <TabItem label="macOS">

```bash
# Download the latest macOS archive + SHA256SUMS.txt from the release page.
tar -xzf safeparts-<version>-macos-<arch>.tar.gz

# Optional: verify checksum.
shasum -a 256 -c SHA256SUMS.txt

# Install.
sudo install -m 755 safeparts-<version>-macos-<arch>/safeparts /usr/local/bin/safeparts
sudo install -m 755 safeparts-<version>-macos-<arch>/safeparts-tui /usr/local/bin/safeparts-tui

# Verify.
safeparts --help
safeparts-tui --help
```

If you hit Gatekeeper quarantine prompts after downloading, you may need to remove
the quarantine attribute for the extracted binaries.

  </TabItem>
  <TabItem label="Windows">

```powershell
# Download the latest Windows zip + SHA256SUMS.txt from the release page.
# Extract the zip somewhere like C:\Tools\safeparts\

# Optional: verify checksum (compare output to SHA256SUMS.txt).
certutil -hashfile safeparts-<version>-windows-<arch>.zip SHA256

# Run directly:
./safeparts.exe --help
./safeparts-tui.exe --help

# Optional: add the extracted folder to PATH.
```

  </TabItem>
</Tabs>

## CLI + TUI (Rust)

<Tabs>
  <TabItem label="Linux">

```bash
rustup component add rustfmt clippy
cargo build
cargo test --all-features
```

Build release binaries:

```bash
cargo build -p safeparts --release
cargo build -p safeparts_tui --release
```

  </TabItem>
  <TabItem label="macOS">

```bash
rustup component add rustfmt clippy
cargo build
cargo test --all-features
```

If you hit terminal permission issues, ensure your terminal app has access to the
keyboard/input monitoring features it requires.

  </TabItem>
  <TabItem label="Windows">

```powershell
rustup component add rustfmt clippy
cargo build
cargo test --all-features
```

Release builds:

```powershell
cargo build -p safeparts --release
cargo build -p safeparts_tui --release
```

  </TabItem>
</Tabs>

## Web UI (Vite + React + WASM)

The web UI lives in `web/` and expects a WASM build step.

<Steps>
  1. Install JS deps.
  2. Build WASM bindings.
  3. Start the dev server.
</Steps>

<Tabs>
  <TabItem label="Linux/macOS">

```bash
cd web
bun install
rustup target add wasm32-unknown-unknown
bun run build:wasm
bun run dev
```

  </TabItem>
  <TabItem label="Windows">

The repo's `bun run build:wasm` script uses `bash -lc`. On Windows, use one of:

- WSL (recommended), run the Linux steps.
- Git Bash (if available) so `bash` exists on PATH.

Or run the WASM build manually:

```powershell
rustup target add wasm32-unknown-unknown
cargo install wasm-pack --locked --version 0.13.1
cargo install wasm-bindgen-cli --locked --version 0.2.108

cd web
wasm-pack build ..\crates\safeparts_wasm --mode no-install --target web --out-dir .\src\wasm_pkg
bun install
bun run dev
```

  </TabItem>
</Tabs>

## Docker (Web UI + Docs)

The easiest way to run the complete web UI and documentation is via Docker.

<Tabs>
  <TabItem label="Docker Hub / ghcr.io">

**Pull and run the pre-built image:**

```bash
# Pull the latest image
docker pull ghcr.io/mustafamohsen/safeparts:latest

# Run on port 8080
docker run -p 8080:80 ghcr.io/mustafamohsen/safeparts:latest
```

Then open:

- Web UI: `http://localhost:8080`
- Docs: `http://localhost:8080/help`

**Available tags:**

- `latest` - Latest build from main branch
- `vX.Y.Z` - Specific release version (e.g., `v1.0.0`)
- `sha-<commit>` - Specific commit hash from main

  </TabItem>
  <TabItem label="Build locally">

**Build the Docker image from source:**

```bash
# From repository root
docker build -t safeparts-web -f web/Dockerfile .

# Run on port 8080
docker run -p 8080:80 safeparts-web
```

The build includes:

- Rust toolchain + WASM compilation
- Vite build (web app)
- Astro build (docs)
- nginx serving both

Build time: ~20-30 minutes on first build (cached for subsequent builds).

  </TabItem>
</Tabs>

**What's included:**
- Complete web UI with WASM-powered secret splitting
- Full documentation site (English + Arabic)
- Optimized nginx configuration with security headers
- Self-contained image (~40-50MB)

## Help site (this docs)

This Starlight site lives in `web/help/` and is deployed under `/help/`.

```bash
cd web/help
bun install
bun run dev
```

Then open:

- `http://localhost:4321/help/`
- `http://localhost:4321/help/ar/`
