---
title: سطر الأوامر (CLI)
description: تقسيم واسترداد بطريقة قابلة للأتمتة عبر الطرفية.
---

import { Steps } from '@astrojs/starlight/components';

ملف التنفيذ هو <span class="token token--mono" dir="ltr">safeparts</span>.

## التقسيم

قسّم سراً من stdin إلى 3 حصص بحيث تحتاج أي حصتين للاسترداد:

```bash
echo -n "my secret" | safeparts split -k 2 -n 3 -e base64
```

اكتب الحصص إلى ملف:

```bash
echo -n "my secret" | safeparts split -k 2 -n 3 -e base64 -o shares.txt
```

## الاسترداد

استرداد من stdin (أي <var>k</var> حصص):

```bash
printf "%s\n%s\n" "<share1>" "<share2>" | safeparts combine
```

اكتب السر المستعاد إلى ملف:

```bash
printf "%s\n%s\n" "<share1>" "<share2>" | safeparts combine -o secret.bin
```

## عبارة المرور

:::caution
يفضل استخدام <span class="token token--mono" dir="ltr">--passphrase-file</span> بدلاً من <span class="token token--mono" dir="ltr">--passphrase</span> في البيئات التي تحفظ history.
:::

التقسيم مع عبارة مرور:

```bash
echo -n "my secret" | safeparts split -k 2 -n 3 -e base64 -P passphrase.txt
```

الاسترداد مع عبارة مرور:

```bash
printf "%s\n%s\n" "<share1>" "<share2>" | safeparts combine -P passphrase.txt
```

## سير عمل عملي

<Steps>
1. نفّذ تجربة تدريبية باستخدام سر اصطناعي.
2. قسّم السر الحقيقي.
3. خزّن الحصص في أماكن منفصلة.
4. اختبر الاسترداد فوراً باستخدام <var>k</var> حصص.
5. احذف السر الأصلي من الأماكن المؤقتة.
</Steps>

## استكشاف الأخطاء

- <samp dir="ltr">no shares provided</samp>: الإدخال فارغ.
- <samp dir="ltr">could not detect share encoding</samp>: مرّر <span class="token token--mono" dir="ltr">--encoding</span> بشكل صريح.
- <samp dir="ltr">combine failed</samp>: الحصص من مجموعات مختلفة أو تالفة أو عبارة المرور خاطئة.
