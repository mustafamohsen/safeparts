---
title: البدء
description: دليل تعليمي يركز على القيمة وحالات الاستخدام الواقعية.
---

import { Card, CardGrid, LinkButton, Steps } from '@astrojs/starlight/components';

Safeparts يقسم سراً حساساً واحداً إلى عدة **حصص استرداد**.
لاحقاً يمكنك استعادة السر باستخدام **k من n** حصص.

:::caution
الحصص حساسة. لا تلصق حصصاً حقيقية في الدردشة أو التذاكر أو issues أو السجلات.
عند التوثيق أو الاختبار استخدم أسراراً تجريبية.
:::

<LinkButton href="#walkthrough-a" variant="secondary" icon="left-arrow">
	ابدأ مساراً شخصياً
</LinkButton>

<LinkButton href="#walkthrough-b" variant="secondary" icon="left-arrow">
	ابدأ مساراً للفرق/المؤسسات
</LinkButton>

<LinkButton href="#use-case-catalog" variant="minimal" icon="list-format">
	تصفح كتالوج الحالات
</LinkButton>

## لماذا هذا مهم؟

كثير من الناس "ينسخون" السر بعمل نسخة واحدة. هذا يخلق نقطة فشل واحدة:

```
السر -> نسخة احتياطية واحدة

إذا سُرقت النسخة: انكشف السر
إذا ضاعت النسخة: تعذر الاسترداد
```

Safeparts يساعدك على تجنب النتيجتين:

- تقليل خطر الاختراق: سرقة حصة واحدة لا تكفي.
- تقليل خطر الإقفال: ضياع حصة واحدة لا يعني خسارة الاسترداد.

مع k من n، توزع المخاطر على أشخاص وأماكن متعددة:

```
السر -> n حصص

المهاجم يحتاج k حصص
أنت تحتاج k حصص
```

## اختر الأداة المناسبة

أفضل واجهة تعتمد على مدى تفضيلك للتقنية وما إذا كنت تحتاج عملية قابلة للتكرار.

<CardGrid>
	<Card title="واجهة الويب" icon="window">
		الأفضل للاستخدام لمرة واحدة ولغير التقنيين ولخطوات مرئية.
		
		[اقرأ دليل واجهة الويب](web-ui/)
	</Card>
	<Card title="سطر الأوامر" icon="terminal">
		الأفضل للأتمتة والسكربتات وخطط التشغيل القابلة للتكرار.
		
		[اقرأ دليل سطر الأوامر](cli/)
	</Card>
	<Card title="واجهة طرفية" icon="keyboard">
		الأفضل لسير عمل تفاعلي داخل الطرفية (بما في ذلك بيئات SSH).
		
		[اقرأ دليل واجهة الطرفية](tui/)
	</Card>
</CardGrid>

## k من n باختصار

- `n` = عدد الحصص التي تنشئها
- `k` = عدد الحصص المطلوبة للاسترداد

مثال: `k=2, n=3`

```
تنشئ 3 حصص.
أي حصتين يمكنهما الاسترداد.
يمكنك فقدان حصة واحدة وما زلت تستطيع الاسترداد.
```

### اختيار k و n (قاعدة عملية)

اختر `k` بناءً على من يجب أن يوافق على الاسترداد، ثم اختر `n` بناءً على عدد الحصص التي يمكنك تحمل فقدانها.

قاعدة بسيطة:

`n = k + (عدد الحصص التي يمكنك تحمل فقدانها)`

قيم شائعة:

- للأفراد/العائلات: `k=2, n=3`
- للفرق/المؤسسات: `k=3, n=5`

:::tip
اجعلها قابلة للتنفيذ أولاً. خطة بسيطة تنجح وقت الضغط أفضل من خطة مثالية لا يطبقها أحد.
:::

## تدريب سريع قبل السر الحقيقي

قبل أن تقسم سراً حقيقياً، قم بتجربة قصيرة باستخدام سر تجريبي.

<Steps>
1. اختر واجهة (واجهة الويب / سطر الأوامر / واجهة طرفية).
2. قسم السر `example-secret` باستخدام `k=2, n=3`.
3. استعده فوراً باستخدام أي حصتين.
4. إذا كان كل شيء واضحاً وسلساً، انتقل للسر الحقيقي.
</Steps>

<a id="walkthrough-a"></a>

## المسار A (شخصي): مفتاح استرداد مدير كلمات المرور (واجهة الويب)

استخدم هذا إذا كنت تريد خطوات بسيطة ولا تحتاج أتمتة.

<LinkButton href="/" icon="external" target="_blank" rel="noopener noreferrer">
	افتح تطبيق الويب
</LinkButton>

<Steps>
1. الصق مفتاح الاسترداد في **Secret**.
2. اختر `k=2` و `n=3`.
3. اختر ترميزاً (راجع [الترميزات](encodings/)).
4. اضغط **Split**.
5. خزّن كل حصة في مكان مختلف (مثال بالأسفل).
6. قم بتجربة استرداد باستخدام أي حصتين وتأكد أن الناتج هو المفتاح نفسه.
</Steps>

خطة تخزين مقترحة (`k=2, n=3`):

```
الحصة 1: خزنة منزلية / صندوق أمانات
الحصة 2: شخص موثوق
الحصة 3: حساب/مزود مختلف

الاسترداد يتطلب: أنت + أي مصدر آخر
```

<a id="walkthrough-b"></a>

## المسار B (فرق/مؤسسات): بيانات اعتماد طوارئ (سطر الأوامر)

استخدم هذا إذا كنت تحتاج موافقات، تكرار، وخطة تشغيل مكتوبة.

<Steps>
1. حدد سياسة: ابدأ بـ `k=3, n=5`.
2. قسم السر باستخدام CLI.
3. وزع الحصص على أدوار (وليس فقط أشخاص).
4. اكتب runbook للاسترداد (من يوافق، أين يحدث الاسترداد، كيف يتم التدوير).
5. نفذ تدريباً: جرب الاسترداد مرة واحدة.
</Steps>

تقسيم (سر تجريبي):

```bash
echo -n "example-break-glass-secret" | safeparts split -k 3 -n 5
```

نمط توزيع (`k=3, n=5`):

```
الحصة 1: مسؤول المناوبة (دور)
الحصة 2: الأمن (دور)
الحصة 3: مدير الهندسة (دور)
الحصة 4: خزنة offline (فيزيائي)
الحصة 5: نسخة مشفرة خارج الموقع
```

استرداد (مع placeholders):

```bash
printf "%s\n%s\n%s\n" "<share1>" "<share2>" "<share3>" | safeparts combine
```

:::caution
بعد أي حالة طوارئ حقيقية، بدّل السر وقم بإعادة التقسيم. اعتبر الحصص معرضة للاختراق إذا خرجت من مسار التخزين المعتاد.
:::

## المسار C (أمان عالي): استرداد على جهاز offline (واجهة طرفية)

استخدم هذا إذا كنت تريد أن يتم الاسترداد على جهاز لا يتصل بالإنترنت.

<Steps>
1. جهز جهازاً offline (بدون شبكة).
2. شغل واجهة الطرفية واختر إعداداً مثل `k=3, n=5`.
3. سجل كل حصة على وسيط مختلف (ورق، USB، معدن).
4. خزّن الوسائط في مواقع مختلفة.
5. اختبر الاسترداد على نفس الجهاز offline.
</Steps>

<a id="use-case-catalog"></a>

## كتالوج حالات الاستخدام

إذا كنت لا تحتاج مساراً كاملاً، اختر أقرب نمط وعدله.

1. مفتاح استرداد مدير كلمات المرور: `k=2,n=3` (واجهة الويب)
2. نسخة لعبارة الاسترداد: `k=3,n=5` (واجهة طرفية offline)
3. الإرث الرقمي/التخطيط للتركات: `k=2,n=4` (واجهة الويب)
4. حساب منزلي مشترك: `k=2,n=3` (واجهة الويب)
5. أكواد استرداد 2FA: `k=2,n=3` (واجهة الويب)
6. استرداد نطاق/DNS: `k=2,n=3` (سطر الأوامر)
7. رمز وصول GitHub/GitLab: `k=2,n=3` (سطر الأوامر)
8. بيانات اعتماد طوارئ: `k=3,n=5` (سطر الأوامر)
9. حسابات خدمة مشتركة: `k=2,n=4` (سطر الأوامر)
10. تسليم عميل: `k=2,n=3` (واجهة الويب)
11. استمرارية المؤسسين: `k=2,n=4` (سطر الأوامر)
12. فصل المهام: `k=3,n=5` (سطر الأوامر)

## الخطوات التالية

- تعلم الصيغ: [الترميزات](encodings/)
- راجع ملاحظات الأمان: [الأمان](security/)
- خطوات التنفيذ: [واجهة الويب](web-ui/) / [سطر الأوامر](cli/) / [واجهة طرفية](tui/)
- إذا ظهر خطأ: [استكشاف الأخطاء](troubleshooting/)
