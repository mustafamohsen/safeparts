---
title: البدء
description: دليل عملي لمشاركة السر مع Safeparts. تعلم بالممارسة، مع أمثلة للأفراد والعائلات والفرق والمنظمات.
---

import { Tabs, TabItem, Steps } from '@astrojs/starlight/components';

Safeparts يقسّم السر إلى مشاركات. استردّه لاحقاً باستخدام أي **k** من **n** مشاركة.
يأخذك هذا الدليل عبر المفهوم، يساعدك في اختيار الأداة المناسبة، ويوفر
أمثلة من العالم الحقيقي يمكنك تكييفها لوضعك.

:::tip
جديد في مشاركة السر؟ ابدأ بـ [لماذا مشاركة السر؟](#لماذا-مشاركة-السر) لفهم
المشكلة التي يحلها Safeparts.
:::

## لماذا مشاركة السر؟

المشكلة في النسخ الاحتياطية التقليدية هي أن **نسخة واحدة = نقطة فشل واحدة**.

```
┌─────────────────────────────────────────────────────────┐
│  النسخ الاحتياطي التقليدي:                              │
│                                                         │
│     السر ──────────▶ نسخة احتياطية #1                   │
│                                                         │
│  إذا سُرقت النسخة الاحتياطية → أنت مكشوف                │
│  إذا ضاعت النسخة الاحتياطية → أنت محبوس                 │
└─────────────────────────────────────────────────────────┘
```

مع مشاركة السر، لا يحتوي موقع واحد على كل شيء:

```
┌─────────────────────────────────────────────────────────┐
│  مشاركة السر (k-of-n):                                  │
│                                                         │
│     السر ──┬──▶ مشاركة 1                                │
│              ├──▶ مشاركة 2                              │
│              ├──▶ مشاركة 3                              │
│              └──▶ مشاركة 4                              │
│                                                         │
│  مثال: k=2، n=4                                         │
│  • تحتاج أي 2 مشاركات للاسترداد                         │
│  • فقدان 2 مشاركات → لا يزال قابلاً للاسترداد           │
│  • المخترق يحتاج 2 مشاركات → أصعب بكثير                 │
└─────────────────────────────────────────────────────────┘
```

هذا مهم لأن:

- **لا نقطة فشل واحدة**: فقدان مشاركة واحدة لا يحبسك
- **لا نقطة اختراق واحدة**: سرقة مشاركة واحدة لا تكشف السر
- **مرونة**: اختر عدد المشاركات المطلوبة مقابل عدد النسخ الاحتياطية

## المفهوم الذهني k-of-n

فكر في ذلك كخزينة مصرفية مع مفاتيح متعددة.

| المعامل | المعنى |
|---------|--------|
| **k** | الحد الأدنى من المشاركات المطلوبة لفتح الخزينة |
| **n** | إجمالي المفاتيح المنشأة |

```
k=2, n=3: تحصل على 3 مفاتيح. أي 2 يمكنهما فتح الخزينة.

┌────────────┐     ┌────────────┐     ┌────────────┐
│  المفتاح #1 │     │  المفتاح #2 │     │  المفتاح #3 │
└────────────┘     └────────────┘     └────────────┘
       │                │                │
       └────────────────┴────────────────┘
                     │
                     ▼
              ┌─────────────┐
              │   الخزينة   │  ← تفتح مع أي مفتاحين
              └─────────────┘
```

**كيف تختار k و n:**

| k | n | المفاضلة |
|---|---|----------|
| 2 | 3 | استرداد سهل، أمان معتدل (افتراضي جيد) |
| 2 | 4 | استرداد سهل، مواقع نسخ احتياطي أكثر |
| 3 | 5 | أمان متوازن واسترداد (جيد للفرق) |
| 3 | 7 | أمان عالي، يتطلب تعاوناً أكثر |

**قاعدة بسيطة:** `n = k + (عدد النسخ الاحتياطية التي يمكنك تحمل خسارتها)`

## أداتك، اختيارك

<Tabs>
<TabItem label="الواجهة الويب">

**الأفضل لـ:** مهام لمرة واحدة، مستخدمين غير تقنيين، تغذية مرئية، بدون تثبيت

```
✓ لا يتطلب تثبيت
✓ بطاقات مشاركة مرئية سهلة النسخ
✓ يكتشف تلقائياً صيغة المشاركة عند الدمج
✓ يعمل دون اتصال بعد التحميل الأول
```

**متى تستخدم:** المستخدمون لأول مرة، مفاتيح الاسترداد الشخصية، الاستخدام العرضي

**جرّبها:** افتح [safeparts.app](https://safeparts.app)

</TabItem>
<TabItem label="سطر الأوامر">

**الأفضل لـ:** الأتمتة، البرمجة النصية، خطوط CI/CD، المستخدمين التقنيين

```
✓ قابل للبرمجة وقابل للتكرار
✓ صديق للأنبوب للأتمتة
✓ يمكن دمجه في نصوص التدوير
✓ سريع للمستخدمين ذوي الخبرة
```

**متى تستخدم:** سير عمل DevOps، التدوير المنتظم، عمليات الدفع

**ثبّت:** `cargo install safeparts` أو حمل من [GitHub](https://github.com/mustafamohsen/safeparts)

</TabItem>
<TabItem label="واجهة المحطة">

**الأفضل لـ:** سير عمل تفاعلي في المحطة، المستخدمين المتقدمين، الأجهزة المعزولة

```
✓ واجهة تعتمد لوحة المفاتيح
✓ إدارة مشاركة تفاعلية
✓ لا يتطلب متصفح أو واجهة رسومية
✓ يعمل على الخوادم البعيدة عبر SSH
```

**متى تستخدم:** هواة المحطة، البيئات المعزولة، المهام التفاعلية السريعة

**شغّل:** `safeparts tui`

</TabItem>
</Tabs>

## البدء السريع: قسّم سرّك الأول

<Steps>
1. اختر أداتك (الواجهة الويب، سطر الأوامر، أو واجهة المحطة)
2. أدخل سرّك
3. اضبط k=2 و n=3 (افتراضي جيد لمعظم الحالات)
4. اختر صيغة الترميز
5. انقر على "تقسيم" أو شغّل الأمر
6. احفظ كل مشاركة في موقع مختلف
7. جرب الاسترداد مع مجموعة فرعية من المشاركات
</Steps>

**جرّبه الآن مع الواجهة الويب:**

افتح [safeparts.app](https://safeparts.app) في متصفحك.

**أو مع سطر الأوامر:**

```bash
# قسّم سراً
echo -n "مفتاح-سري" | safeparts split -k 2 -n 3

# الناتج:
# المشاركة 1: B58:dGhpcyBpcyBteSBzZWNyZXQga2V5...
# المشاركة 2: B58:b3RoZXIgc2hhcmUgc2VhcmNoZWQ...
# المشاركة 3: B58:YW5vdGhlciBzaGFyZSBsb29r...
```

## أمثلة حسب الحالة

### شخصي: مفتاح استرداد مدير كلمات المرور

**السيناريو:** مدير كلمات المرور (1Password، Bitwarden، إلخ) أعطاك مفتاح استرداد.
أين تخزّنه بأمان؟

**الإعداد:** k=2، n=3

**التوزيع:**
- المشاركة 1: مخزّنة مع أحد أفراد العائلة الموثوقين
- المشاركة 2: في خزنتك المنزلية أو خزانة بنكية
- المشاركة 3: مع محاميك (اختياري، للتخطيط التركاتي)

**الأداة:** الواجهة الويب (سريعة، بدون تثبيت، بطاقات مرئية)

**لماذا يعمل هذا:**
- تفقد مفتاح الخزينة؟ أحد أفراد العائلة يساعدك
- يحترق منزل أحد أفراد العائلة؟ أنت + المحامي يمكنكما الاسترداد
- لا أحد يستطيع الوصول لحسابك بمفرده

---

### شخصي: عبارة عملة مشفرة

**السيناريو:** عبارة 12 أو 24 كلمة لعملتك المشفرة تحتاج نسخاً احتياطية آمنة.

**الإعداد:**

الخيار أ (مبالغ كبيرة): k=3، n=5
- المشاركة 1: نسخة معدنية من المحفظة (المنزل)
- المشاركة 2: خزانة بنكية (مدينة مختلفة)
- المشاركة 3: فرد عائلة موثوق (بلد مختلف)
- المشاركة 4: نسختك الاحتياطية السحابية المشفرة
- المشاركة 5: شخص موثوق آخر

الخيار ب (صديق للسفر): k=2، n=3
- المشاركة 1: معك (مشفر على الهاتف، غير متزامن)
- المشاركة 2: خزنتك المنزلية
- المشاركة 3: شخص موثوق في بلدك

**الأداة:** الواجهة الويب (تعمل دون اتصال) أو واجهة المحطة (آلة معزولة)

**نصيحة:** فكّر في تشفير عبارة المرور للعبارات.

---

### شخصي: التخطيط التركاتي الرقمي

**السيناريو:** تريد العائلة الوصول للحسابات إذا حدث لك شيء.

**الإعداد:** k=2، n=4

**التوزيع:**
- المشاركة 1: الزوج/الزوجة
- المشاركة 2: طفل بالغ أو أخ/أخت
- المشاركة 3: محامٍ أو منفذ
- المشاركة 4: موقع فيزيائي آمن (خزنة، خزانة وديعة)

**أرفق مع المشاركات:**
- وثيقة تشرح ما هو Safeparts
- قائمة بمن يحمل أي مشاركة
- تعليمات لإعادة البناء

**الأداة:** الواجهة الويب، ثم اطبع/شارك البطاقات

**مهم:** المستلمون يحتاجون لفهم النظام. فكّر في اجتماع عائلي للشرح.

---

### عائلة: حساب بث مشترك

**السيناريو:** العائلة تشارك Netflix/Hulu/Disney+ وتريد وصولاً طارئاً.

**الإعداد:** k=2، n=3

**التوزيع:**
- المشاركة 1: ملاحظات الهاتف للوالد الأول (مشفرة)
- المشاركة 2: مدير كلمات المرور للوالد الثاني
- المشاركة 3: موقع فيزيائي (مكتوب على ورقة، في خزنة)

**الأداة:** الواجهة الويب، رمّز كلمات للتوضيح

---

### مطور: رموز الوصول الشخصية

**السيناريو:** خطوط CI/CD تستخدم رموز وصولك الشخصية (GitHub، GitLab).

**الإعداد:** k=2، n=3

**التوزيع:**
- المشاركة 1: مدير كلمات المرور الشخصي
- المشاركة 2: مدير أسرار CI/CD (GitHub Secrets، GitLab CI Variables)
- المشاركة 3: نسخ احتياطية دون اتصال (ملف مشفر أو ورقة)

**الأداة:** سطر الأوامر - مصمم للأتمتة

**الاسترداد البرمجي:**
```bash
printf "%s\n%s\n" "$SHARE1" "$SHARE2" | safeparts combine > token.txt
```

---

### DevOps: وصول طوارئ

**السيناريو:** بيانات اعتماد الإنتاج للطوارئ فقط.

**الإعداد:** k=3، n=5 (للبنية التحتية الحساسة)

**التوزيع:**
- المشاركة 1: مهندس DevOps الأول
- المشاركة 2: مدير الهندسة
- المشاركة 3: مسؤول الأمان
- المشاركة 4: خزنة في المكتب
- المشاركة 5: نسخ احتياطية مشفرة خارج الموقع

**العملية:**
1. تحدث حالة طوارئ
2. تذكرة مفتوحة مع التبرير
3. 3 حاملي مشاركة يتحققون ويوفرون المشاركات
4. المهندس المناوب يعيد البناء
5. الوصول مستخدم، موثق، ثم ملغى
6. تدوير بيانات الاعتماد فوراً بعد ذلك

**الأداة:** سطر الأوامر + عملية موثقة للموافقة

---

### شركة صغيرة: حسابات خدمات مشتركة

**السيناريو:** حسابات بريد الشركة، وسائل التواصل، التحليلات مشتركة بين الفريق.

**الإعداد:** k=2، n=4

**التوزيع:**
- المشاركة 1: الشريك الإداري
- المشاركة 2: مدير العمليات
- المشاركة 3: شريك التدريب
- المشاركة 4: مدير كلمات مرور الشركة (1Password Business، إلخ)

**عند مغادرة موظف:**
1. دوّر كلمة المرور
2. أعد التقسيم بنفس إعداد k/n

**الأداة:** سطر الأوامر لنصوص التدوير، الواجهة الويب للعمليات الخاصة

---

### وكالة: وصول مواقع العملاء

**السيناريو:** تدير وصول مواقع العملاء (WP admin، لوحات الاستضافة).

**الإعداد:** k=2، n=3 لكل عميل

**التوزيع:**
- المشاركة 1: مدير كلمات مرور وكالتك
- المشاركة 2: التخزين الآمن المفضل للعميل
- المشاركة 3: ضمان لدى طرف ثالث موثوق (اختياري)

**عند التسليم:**
1. أعيد البناء من أي 2 مشاركات
2. انقل الملكية للعميل
3. احذف المشاركات أو أعد التقسيم بإعداد جديد

**الأداة:** الواجهة الويب لاجتماعات تسليم العملاء

---

### شركة ناشئة: وصول المؤسسين

**السيناريو:** عدة مؤسسين يحتاجون الوصول للأنظمة الحرجة.

**الإعداد:**

أسرار الشركة الأساسية (حساسة جداً): k=2، n=4
- المشاركة 1: التخزين الآمن الشخصي للمؤسس 1
- المشاركة 2: التخزين الآمن الشخصي للمؤسس 2
- المشاركة 3: التخزين الآمن للشركة (إعداد VC)
- المشاركة 4: ضمان المحامي

الوصول اليومي التشغيلي (أقل حساسية): k=2، n=3 بين أعضاء الفريق النشطين

**الأداة:** سطر الأوامر للأتمتة، الواجهة الويب للإعداد الأولي

---

### مؤسسة: سياسة تدوير الاعتمادات

**السيناريو:** تدوير دوري لحسابات الخدمة مع متطلبات تدقيق.

**الإعداد:** k=2، n=3 مع تدوير آلي أسبوعي/شهري

**التدفق البرمجي للتدوير:**
1. وظيفة CI تطلق التدوير
2. تسحب المشاركات الحالية من مدير الأسرار
3. تدمج للحصول على الاعتماد
4. تُدوّر الاعتماد في المصدر
5. تُعيد التقسيم وتحدّث كل مواقع المشاركة
6. سجل التدقيق يُنشأ

**مثال نص التدوير:**
```bash
#!/bin/bash
safeparts combine -s vault -s backup-vault -p "${ROTATION_PASS}" > cred.txt
new_cred=$(rotate_credential "$(cat cred.txt)")
echo -n "$new_cred" | safeparts split -k 2 -n 3 -o vault -o backup-vault -o offline
```

**الأداة:** سطر الأوامر - مصمم لهذا

---

### امتثال: فصل المهام

**السيناريو:** التدقيق يتطلب ألا يستطيع شخص واحد النشر للإنتاج.

**الإعداد:** k=2، n=4 لبيانات اعتماد النشر

**التوزيع:**
- المشاركة 1: المطور الأول
- المشاركة 2: مهندس الأمان
- المشاركة 3: مهندس DevOps
- المشاركة 4: طوارئ (مجلس الإدارة/CISO)

**العملية:** أي 2 من 3 أدوار تقنية يجب أن يتعاونوا للنشر
**الوصول الطارئ:** مشاركة مجلس الإدارة/CISO + توثيق الحادث

**الأداة:** سطر الأوامر مع دمج سير عمل الموافقة

---

### صحفي / ناشط: حماية المصادر

**السيناريو:** حماية طرق الاتصال أو مصادر الوثائق.

**الإعداد:** k=3، n=5 (أمان عالي)

**التوزيع:**
- بلدان مختلفة (إن أمكن)
- أنواع تخزين مختلفة (USB مشفر، ورقة، ذاكرة)
- أشخاص مختلفون بملفات تعريف مختلفة

**مهم:** لا تخزن المشاركات رقمياً معاً أبداً. استخدم كلمات memorization للنسخ الورقية.

**الأداة:** واجهة المحطة للآلات المعزولة، الواجهة الويب للاستخدام دون اتصال

## أفضل الممارسات

:::tip[افعل]
- **جرب الاسترداد قبل أن تحتاجه** - تدرب مع سر مزيف أولاً
- **سمّ المشاركات بالمجموعة والفهرس** - "Safeparts مجموعة أ - مشاركة 1/3"
- **وثّق التوزيع** - اكتب من يحمل ماذا (وليس المشاركات نفسها)
- **استخدم كلمات memorization للبشر** - أسهل للنسخ بدقة
- **فكّر في تشفير عبارة المرور** - للأسرار عالية القيمة
- **وازن k مقابل الاسترداد الواقعي** - هل يمكن لـ k أشخاص أن يجتمعوا فعلياً؟
:::

:::caution[لا تفعل]
- **تخزّن كل المشاركات في مكان واحد** - يهدر الغرض
- **استخدم نفس الموقع لـ k مشاركات** - سرقة/فقدان واحدة = اختراق
- **ترسل المشاركات عبر بريد/دردشة** - هذه مُسجّلة وقابلة للاختراق
- **استخدم k منخفض للأسرار عالية القيمة** - k=1 هو مجرد نسخ احتياطي عادي
- **تنسى التدوير بعد الحوادث** - إذا كانت مشاركة معرضة للاختراق، دوّرها
- **تستخدم تطبيق ملاحظات هاتفك** - الهواتف غالباً تُفقد أو تُفحص
:::

## أخطاء شائعة

| الخطأ | لماذا هو مشكلة | الإصلاح |
|-------|---------------|----------|
| "سأتذكر أين وضعتها" | الذاكرة تفشل؛ الموت/الإعاقة يحدث | اكتب خطة التوزيع |
| "k=1 مناسب" | هذا مجرد نسخ احتياطي عادي | استخدم k≥2 |
| "n=k يعني أحتاج كل المشاركات" | مشاركة واحدة مفقودة = إغلاق | اضبط n > k |
| "كل المشاركات على سحابات مختلفة" | إذا تم اختراق كل السحابات، أنت مكشوف | استخدم أنواع تخزين مختلفة |
| "سأستخدم تطبيق ملاحظات هاتفي" | تُفقد الهواتف وتُسرق وتُفحص يومياً | استخدم تخزيناً مشفراً |

## الخطوات التالية

1. **اختر حالة الاستخدام الأولى** - ابدأ بسيناريو واحد من هذا الدليل
2. **جرّب الواجهة الويب** - زر [safeparts.app](https://safeparts.app) وقسّم سراً تجريبياً
3. **ثبّت سطر الأوامر** - `cargo install safeparts` للأتمتة
4. **قرأ أدلة الواجهات:**
   - [الواجهة الويب](/ar/web-ui/) - تقسيم/دمج مرئي
   - [سطر الأوامر](/ar/cli/) - سير عمل قابل للبرمجة
   - [واجهة المحطة](/ar/tui/) - محطة تفاعلية
5. **استكشف المرجع:**
   - [الترمجات](/ar/encodings/) - Base64، Base58، Mnemonic
   - [الأمان](/ar/security/) - تفاصيل التشفير
   - [استكشاف الأخطاء](/ar/troubleshooting/) - المشاكل الشائعة

:::tip
حالة استخدام غير مغطاة هنا؟ [افتح Issue](https://github.com/mustafamohsen/safeparts/issues)
أو ساهم في هذا الدليل!
:::
