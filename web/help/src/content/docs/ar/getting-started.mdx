---
title: البدء
description: دليل تعليمي يركز على القيمة وحالات الاستخدام الواقعية.
---

import { Card, CardGrid, LinkButton, Steps } from '@astrojs/starlight/components';

Safeparts يقسم سراً حساساً واحداً إلى عدة **حصص استرداد**.
لاحقاً يمكنك استعادة السر باستخدام **k من n** حصص.

:::caution
الحصص حساسة. لا تلصق حصصاً حقيقية في الدردشة أو التذاكر أو issues أو السجلات.
عند التوثيق أو الاختبار استخدم أسراراً تجريبية.
:::

## المشكلة

معظم الناس ينسخون السر بعمل نسخة واحدة. هذا يخلق نقطة فشل واحدة:

```
السر -> نسخة احتياطية واحدة

إذا سُرقت النسخة: انكشف السر
إذا ضاعت النسخة: تعذر الاسترداد
```

Safeparts يوزع المخاطر على أشخاص وأماكن متعددة. مع k من n:

- سرقة حصة واحدة لا تكفي لكشف السر.
- ضياع حصة واحدة لا يعني خسارة الاسترداد.

```
السر -> n حصص

المهاجم يحتاج k حصص
أنت تحتاج k حصص
```

## فهم k من n

- `n` هو عدد الحصص التي تنشئها
- `k` هو عدد الحصص المطلوبة للاسترداد

مع `k=2, n=3`: تنشئ 3 حصص، أي حصتين يمكنهما الاسترداد، يمكنك فقدان حصة واحدة وما زلت تستطيع الاسترداد.

### اختيار k و n

اختر `k` بناءً على من يجب أن يوافق على الاسترداد. اختر `n` بناءً على عدد الحصص التي يمكنك تحمل فقدانها.

`n = k + عدد الحصص التي يمكنك تحمل فقدانها`

قيم عملية:
- الاستخدام الشخصي: `k=2, n=3`
- الفرق: `k=3, n=5`

:::tip
خطة بسيطة ينفذها الناس وقت الضغط أفضل من خطة مثالية لا يطبقها أحد.
:::

## اختر واجهتك

<CardGrid>
	<Card title="واجهة الويب" icon="window">
		للاستخدام لمرة واحدة والخطوات المرئية.
		
		[اقرأ دليل واجهة الويب](web-ui/)
	</Card>
	<Card title="سطر الأوامر" icon="terminal">
		للأتمتة والخطط القابلة للتكرار.
		
		[اقرأ دليل سطر الأوامر](cli/)
	</Card>
	<Card title="واجهة طرفية" icon="keyboard">
		لسير العمل التفاعلي في الطرفية.
		
		[اقرأ دليل واجهة الطرفية](tui/)
	</Card>
</CardGrid>

<LinkButton href="/" icon="external" target="_blank" rel="noopener noreferrer">
	افتح تطبيق الويب
</LinkButton>

## تدرب أولاً

قبل تقسيم سر حقيقي، قم بتجربة 3 دقائق باستخدام سر تجريبي.

<Steps>
1. اختر واجهة (واجهة الويب / سطر الأوامر / واجهة طرفية).
2. قسم السر `example-secret` باستخدام `k=2, n=3`.
3. استعده فوراً باستخدام أي حصتين.
4. إذا نجح الاسترداد بسلاسة، انتقل للسر الحقيقي.
</Steps>

<a id="walkthrough-a"></a>

## سيناريو: مفتاح استرداد مدير كلمات المرور

**المشكلة**: مدير كلمات المرور يحمي مئات بيانات الاعتماد، لكن مفتاح الاسترداد نقطة فشل واحدة. إذا فقدته، تُقفل خارجاً. إذا سُرق، يملك شخص آخر حياتك الرقمية.

**الحل**: قسّم مفتاح الاسترداد بحيث تحتاج تعاوناً بين موقعين للاسترداد، لكن فقدان حصة واحدة لا يقفلك خارجاً.

**الإعداد**: `k=2, n=3` باستخدام واجهة الويب

<LinkButton href="/" icon="external" target="_blank" rel="noopener noreferrer">
	افتح تطبيق الويب
</LinkButton>

<Steps>
1. الصق مفتاح الاسترداد في **Secret**.
2. اضبط `k=2` و `n=3`.
3. اختر ترميزاً (راجع [الترميزات](encodings/)).
4. اضغط **Split**.
5. خزّن كل حصة في مكان مختلف.
6. اختبر الاسترداد بأي حصتين قبل حذف المفتاح الأصلي.
</Steps>

خطة التخزين:

```
الحصة 1: خزنتك أو صندوق أمانات
الحصة 2: شخص موثوق (عائلة/صديق)
الحصة 3: خدمة تخزين مشفرة منفصلة

الاسترداد يتطلب: أنت + مصدر آخر
المرونة: فقدان أي حصة واحدة، ما زال الاسترداد ممكناً
```

<a id="walkthrough-b"></a>

## سيناريو: بيانات اعتماد طوارئ للإنتاج

**المشكلة**: كلمة مرور قاعدة البيانات للإنتاج يجب أن تكون متاحة خلال الطوارئ، لكن إعطاءها لشخص واحد يخلق خطراً أمنياً. تخزينها في خزنة واحدة نقطة فشل واحدة. تحتاج عدة أشخاص للموافقة على الوصول.

**الحل**: قسّم بيانات الاعتماد على أدوار بحيث لا يستطيع شخص واحد الوصول وحده، لكن أي مجموعة مخولة يمكنها الاسترداد خلال الحوادث.

**الإعداد**: `k=3, n=5` باستخدام سطر الأوامر

<Steps>
1. حدد سياستك (من يجب أن يوافق على الاسترداد).
2. قسّم بيانات الاعتماد باستخدام CLI.
3. وزع الحصص على أدوار، ليس أفراد.
4. اكتب runbook للاسترداد (عملية الموافقة، سياسة التدوير).
5. نفذ تدريباً لتتحقق من العملية.
</Steps>

التقسيم:

```bash
echo -n "example-break-glass-secret" | safeparts split -k 3 -n 5
```

نمط التوزيع:

```
الحصة 1: مسؤول المناوبة (دور)
الحصة 2: فريق الأمن (دور)
الحصة 3: مدير الهندسة (دور)
الحصة 4: خزنة فيزيائية (offline)
الحصة 5: نسخة مشفرة خارج الموقع

الاسترداد يتطلب: 3 من 5 حصص (موافقة متعددة الأطراف)
المرونة: فقدان أي حصتين، ما زال الاسترداد ممكناً
```

الاسترداد:

```bash
printf "%s\n%s\n%s\n" "<share1>" "<share2>" "<share3>" | safeparts combine
```

:::caution
بعد أي حادث طوارئ، بدّل بيانات الاعتماد وأعد التقسيم. اعتبر الحصص مخترقة محتملاً إذا استُخدمت خارج التخزين المعتاد.
:::

## سيناريو: عبارة استرداد العملات المشفرة

**المشكلة**: عبارة الاسترداد تمنح تحكماً كاملاً بأموالك. إذا سُرقت، أموالك ذهبت. إذا ضاعت، أموالك غير قابلة للاسترداد نهائياً. تخزينها رقمياً يعرضها للبرمجيات الخبيثة. تخزينها على ورق نقطة فشل واحدة.

**الحل**: قسّم عبارة الاسترداد وخزّن الحصص على وسائط فيزيائية في مواقع منفصلة. استعد على جهاز معزول لتجنب التعرض للشبكة.

**الإعداد**: `k=3, n=5` باستخدام واجهة الطرفية على جهاز offline

<Steps>
1. جهّز جهازاً معزولاً (بدون شبكة، لم يتصل أبداً).
2. شغّل واجهة الطرفية واضبط `k=3, n=5`.
3. سجّل كل حصة على وسيط فيزيائي منفصل (ورق، معدن، USB).
4. خزّن الوسائط في مواقع جغرافية مختلفة.
5. اختبر الاسترداد على نفس الجهاز offline قبل الوثوق بالإعداد.
</Steps>

خطة التخزين:

```
الحصة 1: خزنة المنزل
الحصة 2: صندوق أمانات بنكي
الحصة 3: فرد موثوق من العائلة (مدينة مختلفة)
الحصة 4: محامٍ أو منفذ وصية
الحصة 5: صندوق أمانات بنكي ثانٍ (مؤسسة مختلفة)

الاسترداد يتطلب: 3 من 5 حصص (تنوع جغرافي)
المرونة: فقدان أي حصتين، ما زال الاسترداد ممكناً
```

<a id="use-case-catalog"></a>

## سيناريوهات إضافية

اختر أقرب نمط وعدّله لاحتياجاتك.

### الإرث الرقمي والتخطيط للتركات

**المشكلة**: عند الوفاة أو العجز، أصولك الرقمية تصبح غير قابلة للوصول إذا كنت الوحيد الذي يعرف بيانات الاعتماد. إعطاء البيانات لشخص واحد خلال حياتك يخلق مخاطر أمنية وخصوصية.

**الحل**: `k=2, n=4` — الزوج/الزوجة، منفذ الوصية، المحامي، وموقع احتياطي واحد. عائلتك يمكنها الاسترداد بدونك، لكن لا شخص واحد يستطيع الوصول بينما أنت حي.

### الحسابات المنزلية المشتركة

**المشكلة**: الأزواج يحتاجون وصولاً مشتركاً لحسابات مهمة، لكن شخص واحد يفقد أو يكشف بيانات الاعتماد يقفل الاثنين خارجاً أو يعرض الاثنين للخطر.

**الحل**: `k=2, n=3` — كل شريك يحمل حصة واحدة، الحصة الثالثة نسخة احتياطية offline مختومة. أي شريك يمكنه بدء الاسترداد، لكن يحتاج تعاون الآخر أو النسخة الاحتياطية.

### استرداد مسجل النطاق و DNS

**المشكلة**: فقدان الوصول لمسجل نطاقك يمكن أن يوقف موقعك الإلكتروني بالكامل. تخزين بيانات الاعتماد في مكان واحد يخلق خطر استمرارية الأعمال.

**الحل**: `k=2, n=3` (الأعمال الصغيرة) أو `k=3, n=5` (الفرق الأكبر) — وزع على أدوار العمليات والأمن مع حصة offline واحدة.

### رموز وصول GitHub أو GitLab

**المشكلة**: رموز الوصول الشخصية تمنح وصولاً واسعاً للمستودعات. تخزينها في مدير كلمات مرور واحد نقطة فشل واحدة. فقدان الرمز يعطل الأتمتة.

**الحل**: `k=2, n=3` — مدير كلمات المرور، مخزن أسرار CI، ونسخة احتياطية offline. اختراق أو فقدان موقع واحد لا يكشف أو يفقد الرمز.

### أكواد استرداد 2FA

**المشكلة**: أكواد استرداد 2FA غالباً تُخزّن في نفس مدير كلمات المرور الذي يحمي كلمات المرور نفسها. إذا اختُرق مدير كلمات المرور، العاملان يُكشفان.

**الحل**: `k=2, n=3` — قسّم الأكواد بحيث اختراق موقع واحد لا يتجاوز حماية العاملين بالكامل.

### حسابات الخدمة المشتركة

**المشكلة**: الفرق تحتاج وصولاً لحسابات خدمة مشتركة (بريد إلكتروني، مدير سحابي، معالجات دفع)، لكن التغيير في الموظفين والوصول من شخص واحد يخلق مخاطر استمرارية وأمان.

**الحل**: `k=2, n=4` — المالك، العمليات، الأمن، ونسخة احتياطية offline. استخدم CLI لخطوات تدوير قابلة للتكرار.

### تسليم العميل (الوكالات)

**المشكلة**: الوكالات تحمل بيانات اعتماد العملاء خلال المشاريع. عند التسليم، تحتاج نقل الوصول بأمان بدون كشف بيانات الاعتماد عبر البريد الإلكتروني أو الدردشة.

**الحل**: `k=2, n=3` — خزنة الوكالة، خزنة العميل، و escrow اختياري. استخدم واجهة الويب خلال اجتماعات التسليم للتأكيد البصري.

### استمرارية المؤسسين

**المشكلة**: الشركات الناشئة تعتمد على بيانات اعتماد حرجة يحملها المؤسسون. إذا غادر مؤسس أو أصبح غير متاح، الاستمرارية في خطر. إعطاء مؤسس واحد وصولاً وحيداً يخلق اعتماداً على شخص واحد.

**الحل**: `k=2, n=4` — مؤسسان، مستشار قانوني، ونسخة احتياطية offline. أي طرفين يمكنهما الاسترداد، لكن لا مؤسس واحد يتحكم بالبنية الحرجة وحده.

### فصل الواجبات (الامتثال)

**المشكلة**: اللوائح غالباً تتطلب ألا يستطيع شخص واحد أداء عمليات حساسة وحده. تخزين بيانات الاعتماد في نظام واحد لا يلبي متطلبات فصل الواجبات.

**الحل**: `k=2, n=4` أو `k=3, n=5` — وزع الحصص على أدوار (الهندسة، الأمن، الامتثال، التنفيذ). استخدم CLI لعمليات قابلة للتدقيق والتكرار.

## الخطوات التالية

- تعلم الصيغ: [الترميزات](encodings/)
- راجع ملاحظات الأمان: [الأمان](security/)
- خطوات التنفيذ: [واجهة الويب](web-ui/) / [سطر الأوامر](cli/) / [واجهة طرفية](tui/)
- إذا ظهر خطأ: [استكشاف الأخطاء](troubleshooting/)
