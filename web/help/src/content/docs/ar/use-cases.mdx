---
title: حالات الاستخدام
description: سيناريوهات واقعية وكيف تختار توزيع الحصص.
---

import { Card, CardGrid, Steps } from '@astrojs/starlight/components';

حالات الاستخدام ليست فقط "أي <var>k</var>/<var>n</var> تختار"، بل من يستطيع التعاون فعلاً وقت الاسترداد.

:::tip
إن كنت تريد نقطة بداية: جرّب <span class="token" dir="ltr">k=2, n=3</span> للاسترداد الشخصي و <span class="token" dir="ltr">k=3, n=5</span> للفرق.
:::

:::caution
Safeparts لا يمنع من يملك <var>k</var> حصص من إعادة تركيب السر.
الأمان يأتي من أين تُخزّن الحصص ومن يستطيع الوصول إليها.
:::

## سيناريوهات

استخدم هذه الصفحة لاختيار خطة قابلة للتنفيذ: من يحمل أي حصة، ماذا يحدث إذا كان أحدهم غير متاح، وكيف تختبر الاسترداد.

<CardGrid>
	<Card title="استرداد مدير كلمات المرور" icon="star">
		المقترح: <span class="token" dir="ltr">k=2, n=3</span>.
		موقعان تتحكم بهما + احتياطي خارج الموقع.
	</Card>
	<Card title="تخطيط العائلة/الوصية" icon="open-book">
		المقترح: <span class="token" dir="ltr">k=2, n=4</span>.
		يستطيع طرفان الاسترداد دون أن يملك شخص واحد السيطرة وحده.
	</Card>
	<Card title="سر بنية تحتية لفريق صغير" icon="document">
		المقترح: <span class="token" dir="ltr">k=3, n=5</span>.
		وزّع على أدوار مع خزنة offline.
	</Card>
	<Card title="إجراء break-glass" icon="setting">
		المقترح: <span class="token" dir="ltr">k=2, n=4</span>.
		اجعل حصة واحدة offline واطلب تعاون طرفين أثناء الحوادث.
	</Card>
	<Card title="أكواد النسخ الاحتياطي لـ 2FA" icon="laptop">
		المقترح: <span class="token" dir="ltr">k=2, n=3</span>.
		اختراق جهاز واحد لا ينبغي أن يعطل 2FA بالكامل.
	</Card>
	<Card title="تسليم بين وكالة وعميل" icon="pen">
		المقترح: <span class="token" dir="ltr">k=2, n=3</span>.
		قسّم بين خزنة الوكالة وخزنة العميل ونسخة offline مختومة.
	</Card>
</CardGrid>

## نمط: استرداد شخصي (<span class="token" dir="ltr">k=2, n=3</span>)

مناسب لمفاتيح استرداد مدير كلمات المرور وأكواد النسخ الاحتياطي لـ 2FA وغيرها من الأسرار الشخصية.

توزيع مقترح:

- الحصة A: مكان تصل إليه بسرعة (ملاحظة في مدير كلمات المرور على حساب/جهاز منفصل)
- الحصة B: نسخة offline مختومة (ورق/معدن)
- الحصة C: احتياطي خارج الموقع (شخص موثوق أو صندوق أمانات)

<Steps>
1. قسّم باستخدام <span class="token" dir="ltr">k=2, n=3</span>.
2. ضع الحصص في المواقع الثلاثة.
3. نفّذ اختبار استرداد باستخدام أي حصتين.
4. دوّن مكان الحصة الثالثة وكيف تصل إليها.
</Steps>

## نمط: سر فريق (<span class="token" dir="ltr">k=3, n=5</span>)

مناسب عندما تريد فصل الواجبات: لا شخص واحد يستطيع التصرف وحده، لكن الفريق يستطيع الاسترداد وقت الحوادث.

توزيع مقترح (حسب الدور):

- الحصة 1: العمليات
- الحصة 2: الأمن
- الحصة 3: قائد هندسي
- الحصة 4: راعٍ تنفيذي
- الحصة 5: خزنة offline

<Steps>
1. وثّق من يحمل كل حصة (الدور + جهة بديلة).
2. اكتب runbook للحوادث: من يبدأ، كيف تتم الموافقة، أين تُجمع الحصص.
3. اختبر مرة واحدة قبل الاعتماد على الخطة لأسرار الإنتاج.
</Steps>

## نمط: break-glass (<span class="token" dir="ltr">k=2, n=4</span>)

مناسب عندما يجب أن يكون الاسترداد نادراً وقابلاً للتتبع.

توزيع مقترح:

- الحصة 1: قائد المناوبة (يتغير)
- الحصة 2: مسؤول الأمن
- الحصة 3: خزنة offline
- الحصة 4: مسؤول تنفيذي احتياطي أو امتثال

:::caution
بعد أي حدث break-glass، بدّل السر الأصلي ثم أعد التقسيم.
اعتبر الحصص التي تم جمعها معرضة للاختراق.
:::

## كيف تختار حاملي الحصص

<CardGrid>
	<Card title="افصل أسباب الفشل" icon="setting">
		أشخاص وأجهزة ومواقع مختلفة. تجنب "نفس الخزنة، ظرفان".
	</Card>
	<Card title="صمّم لأسوأ يوم" icon="warning">
		الاسترداد يحدث وقت ضغط: أعطال، سفر، مرض، أو فقد.
	</Card>
	<Card title="اكتب runbook" icon="document">
		وثّق من يحمل أي حصة وماذا تفعل إذا كان أحدهم غير متاح.
	</Card>
</CardGrid>

## متى تضيف عبارة مرور

إذا كان خطر سرقة الحصص مرتفعاً (سفر، بيئات مشتركة، أجهزة غير موثوقة)، أضف عبارة مرور.
هذا يغيّر مهمة المهاجم من "سرقة <var>k</var> حصص" إلى "سرقة <var>k</var> حصص وعبارة المرور".

راجع [الأمان](security/).
